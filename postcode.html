<!--TODO:-->
<!--Maybe replace the input field with a dropdown with all postcodes (only if not too many)-->
<!--The button can then be removed, selecting should directly yield the result-->

<!--Show more than just the name of the blokouderling: blok nummer (?), photo, short bio, buurtbijbelkring.-->

<!--Read the data from a csv-file on the website: http://sintjansgemeente.nl/wp-content/uploads/2016/01/postcodetabel.csv-->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Postcode</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <script src="resources/js/papaparse.js"></script>
    <script>
        $(document).ready(function(){
            $("button").click(function(){
                var postcode = $("#postcode").val().toUpperCase().replace(/ /g,'');

                switch(postcode) {
                    case "2805CZ":
                    case "2805CC":
                        var blokouderling = "Anne Bosman";
                        break;
                    case "2806AA":
                        var blokouderling = "Timen Eilander";
                        break;
                    default:
                        var blokouderling = "Onbekend";
                }
                $("#blokouderling").remove();
                $("#postcode").after('<div id=blokouderling>' + blokouderling + '</div>');
            });

            file_url = "http://sintjansgemeente.nl/wp-content/uploads/2016/01/postcodetabel.csv";
            var results = Papa.parse(file_url,
                    {header:   true,
                     download: true,
                     delimiter: ";",
                     complete: function(results) {
                         if (results && results.errors)
                         {
                             if (results.errors)
                             {
                                 errorCount = results.errors.length;
                                 firstError = results.errors[0];
                                 alert(errorCount + " errors found");
                                 alert(result.data.length + " data rows found")
                                 alert(firstError.message)
                             }
                             if (results.data && results.data.length > 0)
                                 rowCount = results.data.length;
                                 alert(rowCount + " rows found");
                         }                     }});
            console.log(results);

        });
    </script>

</head>

<body>

    <p>Postcode: <input type="text" id="postcode" value="1234AB" maxlength="6" size="6"></p>

    <button>Uw blokouderling</button>

</body>
</html>

